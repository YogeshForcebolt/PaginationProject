@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
</head>


<form action="/home/index" method="get" id="form">
    <select onchange="FormSumbit()" id="PageEntries" name="ItemPerPage" class="form-select form-select-sm form-control-sm" style="width:auto" aria-label="Default select example">
        <option selected>Select Entries</option>
        <option value="3">3</option>
        <option value="5">5</option>
        <option value="10">10</option>
    </select>
</form>
<form action="/home/search" method="get">
    <div class="input-group mb-3">
        <input type="search" class="form-control" required name="search" placeholder="Search by Name" aria-label="Recipient's username" aria-describedby="button-addon2">
        <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Search</button>
    </div>
</form>
<div class="dropdown" style="position: -webkit-sticky; position: fixed; bottom: 17%; right: 5%; width: stretch; z-index: 2 ">

    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        <li><a class="dropdown-item" onclick="SortAsc();" style="cursor:pointer">Sort By Ascending</a></li>
        <li><a class="dropdown-item" onclick="SortDes();" style="cursor:pointer">Sort By Descending</a></li>
    </ul>
</div>
<div id="maintable" class="container">
    <div class="row">
        <div class="col-sm">
            <h6>Id</h6>
        </div>
        <div class="col-sm">
            <h6>Name</h6>
        </div>
        <div class="col-sm">
            <h6>Age</h6>
        </div>
        <div class="col-sm">
            <h6>Gender</h6>
        </div>
        <div class="col-sm">
            <h6>Status</h6>
        </div>
        <div class="col-sm">
            <h6>Created Date</h6>
        </div>
        <div class="col-sm">
            <h6>Modified Date</h6>
        </div>
    </div>




</div>
<div class="container">
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="/home/index?previous=previous">Previous</a></li>
            
            <li class="page-item"><a class="page-link" href="/home/index?next=next">Next</a></li>
        </ul>
    </nav>
</div>
<script src="https://code.jquery.com/jquery-3.6.3.js"
        integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
        crossorigin="anonymous"></script>
<script>
    function FormSumbit() {
        let doc = document.getElementById("form");
        doc.submit();
    }
    function SortAsc() {

    }
    function SortDsc() {

    }
    var startPage;
    var endPage;
    $(document).ready(function () {
        $.ajax({
            url: 'https://localhost:44310/home/index',
            type: 'Get',
            contentType: 'application/json',
            success: function (response) {
                console.log(response);
                startPage = parseInt(response.startPage);
                endPage = parseInt(response.endPage);
                response.listOfData.forEach(function (currentValue, index) {
                    $("#maintable").append(`<div class="row">
                        <div class="col-sm">`+ currentValue.id +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.name +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.age +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.gender +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.status +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.created_date +`
                        </div>
                        <div class="col-sm">
                            `+ currentValue.modifed_date +`
                        </div>
                    </div>`);
                })
            }
        })
    });

</script>